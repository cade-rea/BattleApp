package battle.battle;

import android.os.AsyncTask;

/**
 * Created by Cade on 7/31/2014.
 */
public class Battle extends AsyncTask<String, String, String> {
    Fighter fighter1, fighter2;
    Environment enviro;
    Clock battleClock;
    BattleScreen screen;

    public Battle(BattleScreen scr){
        screen = scr;

        fighter1 = loadFighter();
        fighter2 = loadFighter();

        enviro = new Environment();

        battleClock = new Clock();
    }

    public Battle(){
        this(new BattleScreen());
    }

    protected String doInBackground(String... params){
        for(int i = 0; i < 1000000; ++i){
            if (i%1000 == 0){
                publishProgress("running " + i);
            }
        }

        return "done";
    }

    protected void onProgressUpdate(String... progress){
        screen.update(progress[0]);
    }

    protected void onPostExecute(String result){

    }

    protected void onPreExecute(){

    }

    protected void onCancelled(String obj){
        screen.update("cancelled");
    }

    private Fighter loadFighter(){
        return new Fighter();
    }
}
